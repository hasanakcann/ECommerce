=> Comment Micro Service <=

-> Services\Comment Folder -> Comment -> New Project -> ASP.NET Core Web API -> MultiShop.Comment -> .NET 8.0

-> portainer.io'da:
Portainer üzerinden App Templates'de Microsoft SQL Server on Linux seçilir.
Db Name: CommentDb - User: sa - Password: 123456aA*
Show advanced options seçeneği açılır. Port mapping yapılır. host 1442 portu verilir. 
Deploy the container butonu tıklanır. 1442 portunda veritabanı ayağa kalkar. 

-> Entity Framework Core paketleri kurulur.

-> UserComment adında Entity sınıfı oluştulur.

-> CommentContext adında context sınıfı oluşturulur.

-> Migration İşlemi:
Visual Studio da proje MultiShop.Comment seçilir ve Package Manager Console'da proje MultiShop.Comment seçilir.

Locale veritabanından çıkıp port üzerinde docker ile ayağa kaldırılan container içerisinde veritabanı gönderiyoruz.

add-migration mig1 komutu çalıştırılır.
update-database komutu çalıştırılır.

productId entity sınıfına sonradan eklendiği için:
add-migration mig2 komutu çalıştırılır.
update-database komutu çalıştırılır.

Bu şekilde migration uygulanmış olur.

-> DBeaver:
DBeaver üzerinde localhost:1442 portunda MultiShopCommentDb oluştu. Tamamen docker üzerinden ayağa kalkıyor. 
Veritabanına erişmek için docker ayakta olmalı.

-> MSSQL:
Server type: Database Engine
Server name: localhost,1442
Authentication: SQL Server Authentication
Login: sa
Password: 123456aA*

-> API Controller oluşturulur.
CommentsController

-> Program.cs de:
Context register edilir.

-> Api Testi:
Swagger üzerinden Get - Get(id) - Post - Delete - Put test edilir. 

-> Frontends\DtoLayer'da:
CommentDto oluşturulur.

-> Admin ve WebUI'da Views altında _ViewImports.cshtml'e usingler eklenir.

-> Admin folder'ın da CommentController oluşturulur.
Admin tarafında Controller'da Add View ile Index ve UpdateComment sayfaları oluşturulur.

-> Docker:
Docker ayakta olmadığı durumda veritabanına bağlantı sağlanamaz.

-> SideBar'da link tanımlama:
Admin\Views\Shared\Components'de _AdminLayoutSidebarComponentPartial folder'ı içinde Default.cshtml'de 
Yorunlar için SideBar'da link tanımlanır.
<li><a href="/Admin/Comment/Index/"> <i class="fa fa-comment"></i><span>Yorumlar</span></a></li>

-> Yorumların UI'da Gösterilmesi:
WebUI\Views\ProductList\ProductDetail.cshtml'de _ProductDetailReviewComponentPartial partial'a parametre geçilir. 
Commet mikro servisinde Controllers'da CommentListByProductId metodu yazılır.
Ürüne ait yorumlar getirilebilsin diye ViewBag ile productId taşınır. 

-> WebUI\ViewComponents\ProductDetailViewComponents'de:
_ProductDetailReviewComponentPartial'da InvokeAsync() metodu yazılmıştır.

-> WebUI\Views\Shared\Components\_ProductDetailReviewComponentPartial'de:
Default.cshtml sayfa düzenlemeleri yapılmıştır.

-> WebUI\Controllers\ProductListController'da:
AddComment() metodu eklenir. Eklenen metodun AddComment.cshtml sayfasını oluşturulur.

-> WebUI\Views\Shared\Components\_ProductDetailReviewComponentPartial'da:
Default.cshtml'de AddComment.cshtml partial view'ı çağrılır. 
@await Html.PartialAsync("~/Views/ProductList/AddComment.cshtml", new { id = ViewBag.x })